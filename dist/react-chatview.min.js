!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.ReactChatView=e(require("react"),require("react-dom")):t.ReactChatView=e(t.React,t.ReactDOM)}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(1),i=r(o),c=n(2),a=r(c),u=n(7),s=r(u),l=n(11),f=r(l),p=n(12),d=r(p),h=!1;try{var y=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("test",null,y)}catch(t){}var v=(0,s.default)({displayName:"ChatView",propTypes:{flipped:a.default.bool,scrollLoadThreshold:a.default.number,shouldTriggerLoad:a.default.func,onInfiniteLoad:a.default.func.isRequired,loadingSpinnerDelegate:a.default.element,className:a.default.string},getDefaultProps:function(){return{flipped:!1,scrollLoadThreshold:10,shouldTriggerLoad:function(){return!0},loadingSpinnerDelegate:i.default.createElement("div",null),className:""}},getInitialState:function(){return this.rafRequestId=null,this.scrollTop=0,this.scrollHeight=void 0,{isInfiniteLoading:!1}},componentWillUpdate:function(t,e){},render:function(){var t=(0,d.default)(this.props.children);this.props.flipped&&t.reverse();var e=i.default.createElement("div",{ref:"loadingSpinner"},this.state.isInfiniteLoading?this.props.loadingSpinnerDelegate:null);return i.default.createElement("div",{className:this.props.className,ref:"scrollable",style:{overflowX:"hidden",overflowY:"scroll"}},i.default.createElement("div",{ref:"smoothScrollingWrapper"},this.props.flipped?e:null,t,this.props.flipped?null:e))},onScroll:function(){var t=this,e=f.default.findDOMNode(this);if(e.scrollTop!==this.scrollTop){if(this.shouldTriggerLoad(e)){this.setState({isInfiniteLoading:!0});var n=this.props.onInfiniteLoad();n.then(function(){return t.setState({isInfiniteLoading:!1})})}this.updateScrollTop()}},pollScroll:function(){this.onScroll(),this.rafRequestId=window.requestAnimationFrame(this.pollScroll)},isPassedThreshold:function(t,e,n,r,o){return t?n<=e:n>=r-o-e},shouldTriggerLoad:function(t){var e=this.isPassedThreshold(this.props.flipped,this.props.scrollLoadThreshold,t.scrollTop,t.scrollHeight,t.clientHeight);return e&&!this.state.isInfiniteLoading&&this.props.shouldTriggerLoad()},componentDidMount:function(){var t=f.default.findDOMNode(this),e=this.props.flipped?t.scrollHeight-t.clientHeight:0;t.scrollTop=e,this.scrollTop=e,h?t.addEventListener("scroll",this.onScroll,{passive:!0}):this.rafRequestId=window.requestAnimationFrame(this.pollScroll)},componentWillUnmount:function(){var t=f.default.findDOMNode(this);t.removeEventListener("scroll",this.onScroll,{passive:!0}),window.cancelAnimationFrame(this.rafRequestId)},componentDidUpdate:function(t,e){this.updateScrollTop()},updateScrollTop:function(){var t=f.default.findDOMNode(this),e=t.scrollTop+(this.props.flipped?t.scrollHeight-(this.scrollHeight||0):0),n=this.scrollHeight?this.scrollHeight-t.scrollHeight:0;this.props.flipped&&n>0&&(e+=n),e!==t.scrollTop&&(t.scrollTop=e),this.scrollTop=t.scrollTop,this.scrollHeight=t.scrollHeight}});t.exports=v},function(e,n){e.exports=t},function(t,e,n){t.exports=n(3)()},function(t,e,n){"use strict";var r=n(4),o=n(5),i=n(6);t.exports=function(){function t(t,e,n,r,c,a){a!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e){"use strict";function n(t){return function(){return t}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r,i,c,a,u){if(o(e),!t){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,c,a,u],f=0;s=new Error(e.replace(/%s/g,function(){return l[f++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}var o=function(t){};t.exports=r},function(t,e){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=n},function(t,e,n){"use strict";var r=n(1),o=n(8);if("undefined"==typeof r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new r.Component).updater;t.exports=o(r.Component,r.isValidElement,i)},function(t,e,n){"use strict";function r(t){return t}function o(t,e,n){function o(t,e){var n=m.hasOwnProperty(e)?m[e]:null;x.hasOwnProperty(e)&&u("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&u("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function i(t,n){if(n){u("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),u(!e(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=t.prototype,i=r.__reactAutoBindPairs;n.hasOwnProperty(s)&&b.mixins(t,n.mixins);for(var c in n)if(n.hasOwnProperty(c)&&c!==s){var a=n[c],l=r.hasOwnProperty(c);if(o(l,c),b.hasOwnProperty(c))b[c](t,a);else{var f=m.hasOwnProperty(c),h="function"==typeof a,y=h&&!f&&!l&&n.autobind!==!1;if(y)i.push(c,a),r[c]=a;else if(l){var v=m[c];u(f&&("DEFINE_MANY_MERGED"===v||"DEFINE_MANY"===v),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,c),"DEFINE_MANY_MERGED"===v?r[c]=p(r[c],a):"DEFINE_MANY"===v&&(r[c]=d(r[c],a))}else r[c]=a}}}else;}function l(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var o=n in b;u(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var i=n in t;u(!i,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),t[n]=r}}}function f(t,e){u(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in e)e.hasOwnProperty(n)&&(u(void 0===t[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),t[n]=e[n]);return t}function p(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return f(o,n),f(o,r),o}}function d(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function h(t,e){var n=e.bind(t);return n}function y(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];t[r]=h(t,o)}}function v(t){var e=r(function(t,r,o){this.__reactAutoBindPairs.length&&y(this),this.props=t,this.context=r,this.refs=a,this.updater=o||n,this.state=null;var i=this.getInitialState?this.getInitialState():null;u("object"==typeof i&&!Array.isArray(i),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=i});e.prototype=new w,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],g.forEach(i.bind(null,e)),i(e,E),i(e,t),i(e,j),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),u(e.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var o in m)e.prototype[o]||(e.prototype[o]=null);return e}var g=[],m={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},b={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)i(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=c({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=c({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=p(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=c({},t.propTypes,e)},statics:function(t,e){l(t,e)},autobind:function(){}},E={componentDidMount:function(){this.__isMounted=!0}},j={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},w=function(){};return c(w.prototype,t.prototype,x),v}var i,c=n(9),a=n(10),u=n(5),s="mixins";i={},t.exports=o},function(t,e){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function r(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;t.exports=r()?Object.assign:function(t,e){for(var r,a,u=n(t),s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var l in r)i.call(r,l)&&(u[l]=r[l]);if(o){a=o(r);for(var f=0;f<a.length;f++)c.call(r,a[f])&&(u[a[f]]=r[a[f]])}}return u}},function(t,e,n){"use strict";var r={};t.exports=r},function(t,n){t.exports=e},function(t,e,n){function r(t,e,n,r){return e&&"boolean"!=typeof e&&c(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?o(t,e,i(n,r,3)):o(t,e)}var o=n(13),i=n(23),c=n(24);t.exports=r},function(t,e,n){(function(e){function r(t,e,n,i,d,y,g){var m;if(n&&(m=d?n(t,i,d):n(t)),void 0!==m)return m;if(!s(t))return t;var b=h(t);if(b){if(m=c(t),!e)return l(t,m)}else{var E=$.call(t),x=E==j;if(E!=N&&E!=v&&(!x||d))return k[E]?u(t,E,e):d?t:{};if(m=a(x?{}:t),!e)return p(m,t)}y||(y=[]),g||(g=[]);for(var w=y.length;w--;)if(y[w]==t)return g[w];return y.push(t),g.push(m),(b?f:o)(t,function(o,i){m[i]=r(o,e,n,i,t,y,g)}),m}function o(t,e){return d(t,e,y)}function i(t){var e=new W(t.byteLength),n=new B(e);return n.set(new B(t)),e}function c(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&H.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function a(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Object),new e}function u(t,e,n){var r=t.constructor;switch(e){case T:return i(t);case m:case b:return new r(+t);case A:case P:case R:case M:case S:case F:case C:case Y:case L:var o=t.buffer;return new r(n?i(o):o,t.byteOffset,t.length);case w:case I:return new r(t);case O:var c=new r(t.source,U.exec(t));c.lastIndex=t.lastIndex}return c}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var l=n(14),f=n(15),p=n(16),d=n(22),h=n(21),y=n(18),v="[object Arguments]",g="[object Array]",m="[object Boolean]",b="[object Date]",E="[object Error]",j="[object Function]",x="[object Map]",w="[object Number]",N="[object Object]",O="[object RegExp]",D="[object Set]",I="[object String]",_="[object WeakMap]",T="[object ArrayBuffer]",A="[object Float32Array]",P="[object Float64Array]",R="[object Int8Array]",M="[object Int16Array]",S="[object Int32Array]",F="[object Uint8Array]",C="[object Uint8ClampedArray]",Y="[object Uint16Array]",L="[object Uint32Array]",U=/\w*$/,k={};k[v]=k[g]=k[T]=k[m]=k[b]=k[A]=k[P]=k[R]=k[M]=k[S]=k[w]=k[N]=k[O]=k[I]=k[F]=k[C]=k[Y]=k[L]=!0,k[E]=k[j]=k[x]=k[D]=k[_]=!1;var q=Object.prototype,H=q.hasOwnProperty,$=q.toString,W=e.ArrayBuffer,B=e.Uint8Array;t.exports=r}).call(e,function(){return this}())},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e,n){function r(t,e){return null==e?t:o(e,i(e),t)}var o=n(17),i=n(18);t.exports=r},function(t,e){function n(t,e,n){n||(n={});for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}t.exports=n},function(t,e,n){function r(t){return function(e){return null==e?void 0:e[t]}}function o(t){return null!=t&&c(m(t))}function i(t,e){return t="number"==typeof t||d.test(t)?+t:-1,e=null==e?g:e,t>-1&&t%1==0&&t<e}function c(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=g}function a(t){for(var e=s(t),n=e.length,r=n&&t.length,o=!!r&&c(r)&&(p(t)||f(t)),a=-1,u=[];++a<n;){var l=e[a];(o&&i(l,r)||y.call(t,l))&&u.push(l)}return u}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&c(e)&&(p(t)||f(t))&&e||0;for(var n=t.constructor,r=-1,o="function"==typeof n&&n.prototype===t,a=Array(e),s=e>0;++r<e;)a[r]=r+"";for(var l in t)s&&i(l,e)||"constructor"==l&&(o||!y.call(t,l))||a.push(l);return a}var l=n(19),f=n(20),p=n(21),d=/^\d+$/,h=Object.prototype,y=h.hasOwnProperty,v=l(Object,"keys"),g=9007199254740991,m=r("length"),b=v?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&o(t)?a(t):u(t)?v(t):[]}:a;t.exports=b},function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return c(n)?n:void 0}function o(t){return i(t)&&p.call(t)==a}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){return null!=t&&(o(t)?d.test(l.call(t)):n(t)&&u.test(t))}var a="[object Function]",u=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,f=s.hasOwnProperty,p=s.toString,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e){function n(t){return o(t)&&h.call(t,"callee")&&(!v.call(t,"callee")||y.call(t)==l)}function r(t){return null!=t&&c(t.length)&&!i(t)}function o(t){return u(t)&&r(t)}function i(t){var e=a(t)?y.call(t):"";return e==f||e==p}function c(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return!!t&&"object"==typeof t}var s=9007199254740991,l="[object Arguments]",f="[object Function]",p="[object GeneratorFunction]",d=Object.prototype,h=d.hasOwnProperty,y=d.toString,v=d.propertyIsEnumerable;t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return a(n)?n:void 0}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=g}function i(t){return c(t)&&h.call(t)==s}function c(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null!=t&&(i(t)?y.test(p.call(t)):n(t)&&l.test(t))}var u="[object Array]",s="[object Function]",l=/^\[object .+?Constructor\]$/,f=Object.prototype,p=Function.prototype.toString,d=f.hasOwnProperty,h=f.toString,y=RegExp("^"+p.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=r(Array,"isArray"),g=9007199254740991,m=v||function(t){return n(t)&&o(t.length)&&h.call(t)==u};t.exports=m},function(t,e){function n(t){return function(e,n,r){for(var o=-1,i=Object(e),c=r(e),a=c.length;a--;){var u=c[t?a:++o];if(n(i[u],u,i)===!1)break}return e}}var r=n();t.exports=r},function(t,e){function n(t,e,n){if("function"!=typeof t)return r;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,c){return t.call(e,n,r,o,i,c)}}return function(){return t.apply(e,arguments)}}function r(t){return t}t.exports=n},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&c(l(t))}function o(t,e){return t="number"==typeof t||u.test(t)?+t:-1,e=null==e?s:e,t>-1&&t%1==0&&t<e}function i(t,e,n){if(!a(n))return!1;var i=typeof e;if("number"==i?r(n)&&o(e,n.length):"string"==i&&e in n){var c=n[e];return t===t?t===c:c!==c}return!1}function c(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var u=/^\d+$/,s=9007199254740991,l=n("length");t.exports=i}])});